#!/bin/bash

# Define the root directory
ROOT_DIR="/home/alx-es6_basic/alx-frontend-javascript/0x00-ES6_basic"

# Function to perform git add, commit, and push
git_add_commit_push() {
  filename="$1"
  git add "$filename"
  git commit -m "Add $filename"
  git push
}

# Loop through each file in the root directory
for filename in "$ROOT_DIR"/*; do
  if [ -f "$filename" ]; then
    # Get only the file name (without the directory path)
    basefilename=$(basename "$filename")
    
    # Perform git add, commit, and push
    git_add_commit_push "$basefilename"
  fi
done

# Loop indefinitely with a 2-minute interval
while true; do
  sleep 120  # 2 minutes
  for filename in "$ROOT_DIR"/*; do
    if [ -f "$filename" ]; then
      # Get only the file name (without the directory path)
      basefilename=$(basename "$filename")
      
      # Perform git add, commit, and push
      git_add_commit_push "$basefilename"
    fi
  done
done

